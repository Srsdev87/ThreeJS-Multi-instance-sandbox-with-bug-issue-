{"ast":null,"code":"import _objectSpread from \"C:/GitRepHelpers/sandbox/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"C:/GitRepHelpers/sandbox/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"background\", \"children\"],\n  _excluded2 = [\"children\"];\nvar _jsxFileName = \"C:\\\\GitRepHelpers\\\\sandbox\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport * as THREE from 'three';\nimport { forwardRef, useEffect, useRef, useState } from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { useGLTF, View, Center, Environment, MapControls, OrbitControls, PivotControls, RandomizedLight } from '@react-three/drei';\nimport { PerspectiveCamera, OrthographicCamera, AccumulativeShadows } from '@react-three/drei';\nimport { Menu, Button } from '@mantine/core';\nimport * as ICONS from '@tabler/icons';\nimport useRefs from 'react-use-refs';\nimport create from 'zustand';\nimport TestPlugin from './test-plugin';\nimport ImperativeComponent from './imperative-component';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst matrix = new THREE.Matrix4();\nconst positions = {\n  Top: [0, 10, 0],\n  Bottom: [0, -10, 0],\n  Left: [-10, 0, 0],\n  Right: [10, 0, 0],\n  Back: [0, 0, -10],\n  Front: [0, 0, 10]\n};\nconst useStore = create(set => ({\n  projection: 'Perspective',\n  top: 'Back',\n  middle: 'Top',\n  bottom: 'Right',\n  setPanelView: (which, view) => set({\n    [which]: view\n  }),\n  setProjection: projection => set({\n    projection\n  })\n}));\nexport function App() {\n  _s();\n  const [view1, view2, view3, view4] = useRefs();\n  const [impCompLoaded, setImpCompLoaded] = useState(false);\n  const impCompRef = useRef(null);\n  useEffect(() => {\n    if (impCompRef.current) {\n      setImpCompLoaded(true);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Canvas, {\n      shadows: true,\n      frameloop: \"demand\",\n      eventSource: document.getElementById('root'),\n      className: \"canvas\",\n      children: [/*#__PURE__*/_jsxDEV(View.Port, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImperativeComponent, {\n        ref: impCompRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MainPanel, {\n      ref: view1,\n      children: [/*#__PURE__*/_jsxDEV(CameraSwitcher, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PivotControls, {\n        scale: 0.4,\n        depthTest: false,\n        matrix: matrix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Scene, {\n        background: \"aquamarine\",\n        matrix: matrix,\n        children: /*#__PURE__*/_jsxDEV(AccumulativeShadows, {\n          temporal: true,\n          frames: 100,\n          position: [0, -0.4, 0],\n          scale: 14,\n          alphaTest: 0.85,\n          color: \"orange\",\n          colorBlend: 0.5,\n          children: /*#__PURE__*/_jsxDEV(RandomizedLight, {\n            amount: 8,\n            radius: 8,\n            ambient: 0.5,\n            position: [5, 5, -10],\n            bias: 0.001\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n        makeDefault: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SidePanel, {\n      ref: view2,\n      which: \"top\",\n      children: [/*#__PURE__*/_jsxDEV(PanelCamera, {\n        which: \"top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PivotControls, {\n        activeAxes: [true, true, false],\n        depthTest: false,\n        matrix: matrix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Scene, {\n        background: \"lightpink\",\n        matrix: matrix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapControls, {\n        makeDefault: true,\n        screenSpacePanning: true,\n        enableRotate: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SidePanel, {\n      ref: view3,\n      which: \"middle\",\n      children: [/*#__PURE__*/_jsxDEV(PanelCamera, {\n        which: \"middle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PivotControls, {\n        activeAxes: [true, false, true],\n        depthTest: false,\n        matrix: matrix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Scene, {\n        background: \"peachpuff\",\n        matrix: matrix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapControls, {\n        makeDefault: true,\n        screenSpacePanning: true,\n        enableRotate: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SidePanel, {\n      ref: view4,\n      which: \"bottom\",\n      children: [/*#__PURE__*/_jsxDEV(PanelCamera, {\n        which: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PivotControls, {\n        activeAxes: [false, true, true],\n        depthTest: false,\n        matrix: matrix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Scene, {\n        background: \"skyblue\",\n        matrix: matrix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapControls, {\n        makeDefault: true,\n        screenSpacePanning: true,\n        enableRotate: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), impCompRef.current && impCompLoaded && /*#__PURE__*/_jsxDEV(TestPlugin, {\n      useThreeConetxt: impCompRef.current\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 47\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"CrqORhDAEsqIr7zxzXLhxE2TLzE=\", false, function () {\n  return [useRefs];\n});\n_c = App;\nfunction Scene(_ref) {\n  _s2();\n  let {\n      background = 'white',\n      children\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const {\n    nodes,\n    materials\n  } = useGLTF('https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/bricks/model.gltf');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"color\", {\n      attach: \"background\",\n      args: [background]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ambientLight\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [10, 10, -15],\n      castShadow: true,\n      \"shadow-bias\": -0.0001,\n      \"shadow-mapSize\": 1024\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Environment, {\n      preset: \"city\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"group\", _objectSpread(_objectSpread({\n      matrixAutoUpdate: false\n      // Why onUpdate and not just matrix={matrix} ?\n      // This is an implementation detail, overwriting (most) transform objects isn't possible in Threejs\n      // because they are defined read-only. Therefore Fiber will always call .copy() if you pass\n      // an object, for instance matrix={new THREE.Matrix4()} or position={new THREE.Vector3()}\n      // In this rare case we do not want it to copy the matrix, but refer to it.\n      ,\n      onUpdate: self => self.matrix = matrix\n    }, props), {}, {\n      children: [/*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(\"mesh\", {\n          castShadow: true,\n          geometry: nodes.bricks.geometry,\n          material: materials['Stone.014'],\n          rotation: [Math.PI / 2, 0, 0],\n          children: /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n            color: \"goldenrod\",\n            roughness: 0,\n            metalness: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), children]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s2(Scene, \"3EbVibAGuOW6XeBFAk0EenvHzHI=\", false, function () {\n  return [useGLTF];\n});\n_c2 = Scene;\nfunction CameraSwitcher() {\n  _s3();\n  const projection = useStore(state => state.projection);\n  // Would need to remember the old coordinates to be more useful ...\n  return projection === 'Perspective' ? /*#__PURE__*/_jsxDEV(PerspectiveCamera, {\n    makeDefault: true,\n    position: [4, 4, 4],\n    fov: 25\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(OrthographicCamera, {\n    makeDefault: true,\n    position: [4, 4, 4],\n    zoom: 280\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n_s3(CameraSwitcher, \"4KC9h4AMGy6SERM7qzuD0adhbNU=\", false, function () {\n  return [useStore];\n});\n_c3 = CameraSwitcher;\nfunction PanelCamera(_ref2) {\n  _s4();\n  let {\n    which\n  } = _ref2;\n  const view = useStore(state => state[which]);\n  return /*#__PURE__*/_jsxDEV(OrthographicCamera, {\n    makeDefault: true,\n    position: positions[view],\n    zoom: 100\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 10\n  }, this);\n}\n_s4(PanelCamera, \"sFx966kziKF6UMxvzfj2dpcWM8A=\", false, function () {\n  return [useStore];\n});\n_c4 = PanelCamera;\nconst MainPanel = /*#__PURE__*/_s5(/*#__PURE__*/forwardRef(_c5 = _s5((_ref3, fref) => {\n  _s5();\n  let {\n      children\n    } = _ref3,\n    props = _objectWithoutProperties(_ref3, _excluded2);\n  const projection = useStore(state => state.projection);\n  const setProjection = useStore(state => state.setProjection);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: fref,\n    className: \"panel\",\n    style: {\n      gridArea: 'main'\n    },\n    children: [/*#__PURE__*/_jsxDEV(View, {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%'\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      shadow: \"md\",\n      width: 200,\n      children: [/*#__PURE__*/_jsxDEV(Menu.Target, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: projection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Menu.Dropdown, {\n        onClick: e => setProjection(e.target.innerText),\n        children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(ICONS.IconPerspective, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 28\n          }, this),\n          children: \"Perspective\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(ICONS.IconPerspectiveOff, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 28\n          }, this),\n          children: \"Orthographic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}, \"c1HyzmM+hl5rTdLlZJGdNTPwyDk=\", false, function () {\n  return [useStore, useStore];\n})), \"c1HyzmM+hl5rTdLlZJGdNTPwyDk=\", false, function () {\n  return [useStore, useStore];\n});\n_c6 = MainPanel;\nconst SidePanel = /*#__PURE__*/_s6(/*#__PURE__*/forwardRef(_c7 = _s6((_ref4, fref) => {\n  _s6();\n  let {\n    which,\n    children\n  } = _ref4;\n  const value = useStore(state => state[which]);\n  const setPanelView = useStore(state => state.setPanelView);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: fref,\n    className: \"panel\",\n    style: {\n      gridArea: which\n    },\n    children: [/*#__PURE__*/_jsxDEV(View, {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%'\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      shadow: \"md\",\n      width: 200,\n      children: [/*#__PURE__*/_jsxDEV(Menu.Target, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Menu.Dropdown, {\n        onClick: e => setPanelView(which, e.target.innerText),\n        children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(ICONS.IconArrowBigTop, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 28\n          }, this),\n          children: \"Top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(ICONS.IconArrowBigDown, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 28\n          }, this),\n          children: \"Bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(ICONS.IconArrowBigLeft, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 28\n          }, this),\n          children: \"Left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(ICONS.IconArrowBigRight, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 28\n          }, this),\n          children: \"Right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(ICONS.IconHomeUp, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 28\n          }, this),\n          children: \"Front\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(ICONS.IconHomeDown, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 28\n          }, this),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}, \"zBKS5ece5CLiU8GmDz4N6aK7M68=\", false, function () {\n  return [useStore, useStore];\n})), \"zBKS5ece5CLiU8GmDz4N6aK7M68=\", false, function () {\n  return [useStore, useStore];\n});\n_c8 = SidePanel;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Scene\");\n$RefreshReg$(_c3, \"CameraSwitcher\");\n$RefreshReg$(_c4, \"PanelCamera\");\n$RefreshReg$(_c5, \"MainPanel$forwardRef\");\n$RefreshReg$(_c6, \"MainPanel\");\n$RefreshReg$(_c7, \"SidePanel$forwardRef\");\n$RefreshReg$(_c8, \"SidePanel\");","map":{"version":3,"names":["THREE","forwardRef","useEffect","useRef","useState","Canvas","useGLTF","View","Center","Environment","MapControls","OrbitControls","PivotControls","RandomizedLight","PerspectiveCamera","OrthographicCamera","AccumulativeShadows","Menu","Button","ICONS","useRefs","create","TestPlugin","ImperativeComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","matrix","Matrix4","positions","Top","Bottom","Left","Right","Back","Front","useStore","set","projection","top","middle","bottom","setPanelView","which","view","setProjection","App","_s","view1","view2","view3","view4","impCompLoaded","setImpCompLoaded","impCompRef","current","className","children","shadows","frameloop","eventSource","document","getElementById","Port","fileName","_jsxFileName","lineNumber","columnNumber","ref","MainPanel","CameraSwitcher","scale","depthTest","Scene","background","temporal","frames","position","alphaTest","color","colorBlend","amount","radius","ambient","bias","makeDefault","SidePanel","PanelCamera","activeAxes","screenSpacePanning","enableRotate","useThreeConetxt","_c","_ref","_s2","props","_objectWithoutProperties","_excluded","nodes","materials","attach","args","castShadow","preset","_objectSpread","matrixAutoUpdate","onUpdate","self","geometry","bricks","material","rotation","Math","PI","roughness","metalness","_c2","_s3","state","fov","zoom","_c3","_ref2","_s4","_c4","_s5","_c5","_ref3","fref","_excluded2","style","gridArea","left","width","height","shadow","Target","Dropdown","onClick","e","target","innerText","Item","icon","IconPerspective","size","IconPerspectiveOff","_c6","_s6","_c7","_ref4","value","IconArrowBigTop","IconArrowBigDown","IconArrowBigLeft","IconArrowBigRight","IconHomeUp","IconHomeDown","_c8","$RefreshReg$"],"sources":["C:/GitRepHelpers/sandbox/src/App.js"],"sourcesContent":["import * as THREE from 'three'\nimport { forwardRef, useEffect, useRef, useState } from 'react'\nimport { Canvas } from '@react-three/fiber'\nimport { useGLTF, View, Center, Environment, MapControls, OrbitControls, PivotControls, RandomizedLight } from '@react-three/drei'\nimport { PerspectiveCamera, OrthographicCamera, AccumulativeShadows } from '@react-three/drei'\nimport { Menu, Button } from '@mantine/core'\nimport * as ICONS from '@tabler/icons'\nimport useRefs from 'react-use-refs'\nimport create from 'zustand'\nimport TestPlugin from './test-plugin'\nimport ImperativeComponent from './imperative-component'\n\nconst matrix = new THREE.Matrix4()\nconst positions = { Top: [0, 10, 0], Bottom: [0, -10, 0], Left: [-10, 0, 0], Right: [10, 0, 0], Back: [0, 0, -10], Front: [0, 0, 10] }\nconst useStore = create((set) => ({\n  projection: 'Perspective',\n  top: 'Back',\n  middle: 'Top',\n  bottom: 'Right',\n  setPanelView: (which, view) => set({ [which]: view }),\n  setProjection: (projection) => set({ projection })\n}))\n\nexport function App() {\n  const [view1, view2, view3, view4] = useRefs()\n  const [impCompLoaded, setImpCompLoaded] = useState(false)\n  const impCompRef = useRef(null)\n\n  useEffect(() => {\n    if (impCompRef.current) {\n      setImpCompLoaded(true)\n    }\n  })\n\n  return (\n    <div className=\"container\">\n      {/** A single canvas, it will only render when things move or change, and otherwise stay idle ... */}\n      <Canvas shadows frameloop=\"demand\" eventSource={document.getElementById('root')} className=\"canvas\">\n        {/** Each view tracks one of the divs above and creates a sandboxed environment that behaves\n             as if it were a normal everyday canvas, <View> will figure out the gl.scissor stuff alone. */}\n        <View.Port />\n        <ImperativeComponent ref={impCompRef} />\n      </Canvas>\n      {/** Tracking div's, regular HTML and made responsive with CSS media-queries ... */}\n      <MainPanel ref={view1}>\n        <CameraSwitcher />\n        <PivotControls scale={0.4} depthTest={false} matrix={matrix} />\n        <Scene background=\"aquamarine\" matrix={matrix}>\n          <AccumulativeShadows temporal frames={100} position={[0, -0.4, 0]} scale={14} alphaTest={0.85} color=\"orange\" colorBlend={0.5}>\n            <RandomizedLight amount={8} radius={8} ambient={0.5} position={[5, 5, -10]} bias={0.001} />\n          </AccumulativeShadows>\n        </Scene>\n        <OrbitControls makeDefault />\n      </MainPanel>\n      <SidePanel ref={view2} which=\"top\">\n        <PanelCamera which=\"top\" />\n        <PivotControls activeAxes={[true, true, false]} depthTest={false} matrix={matrix} />\n        <Scene background=\"lightpink\" matrix={matrix} />\n        <MapControls makeDefault screenSpacePanning enableRotate={false} />\n      </SidePanel>\n      <SidePanel ref={view3} which=\"middle\">\n        <PanelCamera which=\"middle\" />\n        <PivotControls activeAxes={[true, false, true]} depthTest={false} matrix={matrix} />\n        <Scene background=\"peachpuff\" matrix={matrix} />\n        <MapControls makeDefault screenSpacePanning enableRotate={false} />\n      </SidePanel>\n      <SidePanel ref={view4} which=\"bottom\">\n        <PanelCamera which=\"bottom\" />\n        <PivotControls activeAxes={[false, true, true]} depthTest={false} matrix={matrix} />\n        <Scene background=\"skyblue\" matrix={matrix} />\n        <MapControls makeDefault screenSpacePanning enableRotate={false} />\n      </SidePanel>\n      {impCompRef.current && impCompLoaded && <TestPlugin useThreeConetxt={impCompRef.current}></TestPlugin>}\n    </div>\n  )\n}\n\nfunction Scene({ background = 'white', children, ...props }) {\n  const { nodes, materials } = useGLTF('https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/bricks/model.gltf')\n  return (\n    <>\n      <color attach=\"background\" args={[background]} />\n      <ambientLight />\n      <directionalLight position={[10, 10, -15]} castShadow shadow-bias={-0.0001} shadow-mapSize={1024} />\n      <Environment preset=\"city\" />\n      <group\n        matrixAutoUpdate={false}\n        // Why onUpdate and not just matrix={matrix} ?\n        // This is an implementation detail, overwriting (most) transform objects isn't possible in Threejs\n        // because they are defined read-only. Therefore Fiber will always call .copy() if you pass\n        // an object, for instance matrix={new THREE.Matrix4()} or position={new THREE.Vector3()}\n        // In this rare case we do not want it to copy the matrix, but refer to it.\n        onUpdate={(self) => (self.matrix = matrix)}\n        {...props}>\n        <Center>\n          <mesh castShadow geometry={nodes.bricks.geometry} material={materials['Stone.014']} rotation={[Math.PI / 2, 0, 0]}>\n            <meshStandardMaterial color=\"goldenrod\" roughness={0} metalness={1} />\n          </mesh>\n        </Center>\n        {children}\n      </group>\n    </>\n  )\n}\n\nfunction CameraSwitcher() {\n  const projection = useStore((state) => state.projection)\n  // Would need to remember the old coordinates to be more useful ...\n  return projection === 'Perspective' ? (\n    <PerspectiveCamera makeDefault position={[4, 4, 4]} fov={25} />\n  ) : (\n    <OrthographicCamera makeDefault position={[4, 4, 4]} zoom={280} />\n  )\n}\n\nfunction PanelCamera({ which }) {\n  const view = useStore((state) => state[which])\n  return <OrthographicCamera makeDefault position={positions[view]} zoom={100} />\n}\n\nconst MainPanel = forwardRef(({ children, ...props }, fref) => {\n  const projection = useStore((state) => state.projection)\n  const setProjection = useStore((state) => state.setProjection)\n  return (\n    <div ref={fref} className=\"panel\" style={{ gridArea: 'main' }}>\n      <View style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%' }}>{children}</View>\n      <Menu shadow=\"md\" width={200}>\n        <Menu.Target>\n          <Button>{projection}</Button>\n        </Menu.Target>\n        <Menu.Dropdown onClick={(e) => setProjection(e.target.innerText)}>\n          <Menu.Item icon={<ICONS.IconPerspective size={14} />}>Perspective</Menu.Item>\n          <Menu.Item icon={<ICONS.IconPerspectiveOff size={14} />}>Orthographic</Menu.Item>\n        </Menu.Dropdown>\n      </Menu>\n    </div>\n  )\n})\n\nconst SidePanel = forwardRef(({ which, children }, fref) => {\n  const value = useStore((state) => state[which])\n  const setPanelView = useStore((state) => state.setPanelView)\n  return (\n    <div ref={fref} className=\"panel\" style={{ gridArea: which }}>\n      <View style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%' }}>{children}</View>\n      <Menu shadow=\"md\" width={200}>\n        <Menu.Target>\n          <Button>{value}</Button>\n        </Menu.Target>\n        <Menu.Dropdown onClick={(e) => setPanelView(which, e.target.innerText)}>\n          <Menu.Item icon={<ICONS.IconArrowBigTop size={14} />}>Top</Menu.Item>\n          <Menu.Item icon={<ICONS.IconArrowBigDown size={14} />}>Bottom</Menu.Item>\n          <Menu.Item icon={<ICONS.IconArrowBigLeft size={14} />}>Left</Menu.Item>\n          <Menu.Item icon={<ICONS.IconArrowBigRight size={14} />}>Right</Menu.Item>\n          <Menu.Item icon={<ICONS.IconHomeUp size={14} />}>Front</Menu.Item>\n          <Menu.Item icon={<ICONS.IconHomeDown size={14} />}>Back</Menu.Item>\n        </Menu.Dropdown>\n      </Menu>\n    </div>\n  )\n})\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}